<!DOCTYPE html>
<html>
   <head>
      <!-- En-tête de la page -->
      <meta charset="utf-8" />
      <title>Titre</title>
      <link rel="stylesheet" href="css/style.css" media="all">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   </head>
   <body>
      <!-- Corps de la page -->
      <div class="container-fluid">
      <div class="row">
      <!--Contenu de la carte-->
      <div class="col-lg-8 content">
         <div class="alert alert-info" role="alert">
            <center>
               <h3><strong id="dateId" class="date"></strong></h3>
            </center>
         </div>
         <style>
            #svg-container{
            position: relative;
            }
            svg{
            transform: rotateX(55deg) rotateZ(-24deg)
            }
            #lvl2{
            position: absolute;
            top: 30px;
            }
            #lvl1{
            position: absolute;
            top: 60px;
            }
            #lvl1 polygon{
            fill: rgb(1, 173, 210) !important
            }
            #lvl2 polygon{
            fill: rgb(232, 111, 24) !important
            }
            #lvl3 polygon{
            fill: rgb(218, 23, 56) !important
            }
         </style>
         <div id="svg-container">
            <svg id="lvl1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-0.17835909128189087 0 1380.356689453125 840" preserveAspectRatio="xMidYMid meet" xmlns:svg="http://www.w3.org/2000/svg">
               <rect id="svgEditorBackground" x="0" y="0" width="1380" height="840" style="fill: none; stroke: none;"></rect>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-111" points="118.88 199.838 33.9814 205.831 5.01589 222.81 13.0064 284.737 131.865 285.735"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-110" points="16.0028 288.732 27.9885 364.642 143.851 365.64 132.864 287.733"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-109B" points="26.9897 364.642 36.9778 414.582 149.843 410.587 140.854 365.64"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-109" points="36.9778 417.578 48.9636 483.5 67.941 507.471 161.829 515.462 148.845 414.582"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-112" points="156.835 199.838 331.627 184.856 341.615 287.733 168.821 282.739"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-108" points="253.72 414.582 351.603 418.577 357.596 524.451 260.711 522.454"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-113" points="336.621 183.857 442.495 176.865 454.481 380.622 350.604 379.624"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-107" points="355.599 415.581 432.507 419.576 435.503 527.448 360.593 525.45"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-118" points="529.392 170.872 855.004 160.884 846.015 339.671 706.181 340.67 707.18 288.732 536.383 288.732"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-116" points="535.385 288.732 611.294 290.73 614.291 380.622 538.381 382.62"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-117" points="612.293 289.731 703.185 290.73 702.186 377.626 615.289 379.624"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-106" points="432.507 418.577 506.419 418.577 511.413 525.45 439.499 525.45"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-105" points="509.415 420.575 586.324 421.574 588.321 527.448 515.408 527.448"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-104" points="588.321 421.574 761.116 417.578 757.121 524.451 590.319 526.449"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-102" points="763.113 417.578 841.021 417.578 836.027 522.454 760.117 522.454"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-100" points="1008.8208618164062 506.4726867675781 1120.687744140625 482.501220703125 1178.6187744140625 457.53094482421875 1230.556884765625 403.59515380859375 1266.51416015625 326.68670654296875 1283.493896484375 224.8079833984375 1276.502197265625 171.87100219726562 1257.5247802734375 162.8817138671875 1235.551025390625 158.88645935058594 1045.77685546875 157.8876495361328"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-101" points="917.929 438.554 1009.82 436.556 1006.82 505.474 911.936 519.457"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-188A" points="530.39 252.775 525.396 170.872 443.494 174.867 453.482 283.738 493.434 281.74 496.431 251.776"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-114" points="453.482 283.738 501.425 283.738 501.425 339.671 457.477 336.675"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-115" points="456.478 339.671 503.423 339.671 503.423 383.619 459.475 381.621"></polygon>
               <polygon style="stroke:black;fill:grey;stroke-width:1px;" id="room-119" points="737.144 342.668 735.147 381.621 843.018 376.627 844.017 341.669"></polygon>
               <defs id="pathsegapi"></defs>
            </svg>
            <svg id="lvl2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-0.17835909128189087 0 1380.356689453125 840" preserveAspectRatio="xMidYMid meet" xmlns:svg="http://www.w3.org/2000/svg">
               <rect id="svgEditorBackground" x="0" y="0" width="1380" height="840" style="fill: none; stroke: none;"></rect>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-211" points="122.876 200.836 37.9767 206.829 9.01113 223.809 17.0016 285.735 135.86 286.734"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-210" points="16.0028 288.732 27.9885 364.642 143.851 365.64 132.864 287.733"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-209B" points="24.9921 364.642 34.9802 414.582 147.846 410.587 138.857 365.64"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-209" points="31.9838 414.582 43.9695 480.504 62.9469 504.475 156.835 512.465 143.851 411.586"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-208" points="214.766 407.59 312.65 411.586 318.643 517.459 221.758 515.462"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-205" points="465.468 413.583 542.377 411.586 540.379 525.451 470.462 524.452"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-216" points="517.406 282.739 593.315 284.737 596.312 378.81 520.402 376.627" transform="matrix(1.06061 0 0 0.955621 -29.7538 16.1294)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-217" points="601.305 285.735 688.202 284.737 685.205 379.624 605.301 380.622"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-202" points="722.161 413.583 800.068 413.583 795.074 518.459 719.165 518.459" transform="matrix(1.19802 0 0 1.048 -140.431 -19.3725)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-200" points="996.835 515.462 1120.69 482.501 1178.62 457.531 1230.56 403.595 1266.51 326.687 1283.49 224.808 1276.5 171.871 1257.52 162.882 1235.55 158.886 1014.81 155.89"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-201" points="906.772 441.55 998.662 439.552 995.666 508.47 900.779 522.453" transform="matrix(1.09322 0 0 1 -93.8564 0)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-222" points="441.496 334.677 488.44 334.677 488.44 378.625 444.493 376.627"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-220" points="719.166 339.671 717.168 378.625 825.04 373.631 826.039 338.672"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-212" points="160.63 197.765 247.526 191.772 253.519 297.646 201.581 296.647 200.582 318.621 166.622 320.618"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-212B" points="249.524 187.776 255.517 294.649 332.425 296.647 326.432 181.784"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-215" points="439.498 290.729 486.442 290.729 486.442 334.677 442.495 332.679" transform="matrix(0.960028 0 0 1.06449 17.1682 -22.2951)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-213" points="483.246 280.666 484.244 174.792 326.432 181.784 333.424 266.683 358.394 265.684 364.387 277.669"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-214" points="364.387 279.667 368.382 371.558 434.304 375.553 436.301 375.553 436.301 279.667"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-221" points="1012.6152954101562 159.80975341796875 1007.6212768554688 274.6730041503906 827.8352661132812 279.66705322265625 830.8317260742188 160.80856323242188"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-219" points="722.96 163.805 826.836 161.807 818.846 335.6 716.967 338.597"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-203" points="716.967 414.507 712.972 524.376 618.085 525.375 618.085 415.505"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-204" points="615.089 415.505 614.09 521.379 539.179 525.375 540.178 415.505"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-206" points="463.269 414.507 465.267 523.377 393.353 522.378 393.353 413.508"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-207" points="389.357 413.508 391.355 522.378 315.445 518.383 314.446 411.51"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-218" points="484.244 173.793 485.243 278.668 714.97 281.665 718.965 164.804"></polygon>
               <defs id="pathsegapi"></defs>
            </svg>
            <svg id="lvl3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-0.17835909128189087 0 1380.356689453125 840" preserveAspectRatio="xMidYMid meet" xmlns:svg="http://www.w3.org/2000/svg">
               <rect id="svgEditorBackground" x="0" y="0" width="1380" height="840" style="fill: none; stroke: none;"></rect>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-314" points="116.883 203.833 31.9838 209.826 3.01827 226.806 11.0088 288.732 129.867 289.731"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-313" points="14.0052 293.726 25.9909 369.636 141.853 370.634 130.866 292.727"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-312" points="24.9921 370.634 34.9802 420.575 147.846 416.58 138.857 371.633"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-311" points="36.9778 423.571 48.9636 489.493 67.941 513.464 161.829 521.455 148.845 420.575"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-308" points="299.665 419.576 350.604 421.574 367.584 535.438 315.646 532.442"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-305" points="516.407 421.574 564.351 419.576 562.354 533.441 516.407 527.448"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-322" points="536.24 286.92 612.15 288.917 615.146 382.991 539.236 380.808" transform="matrix(1.06061 0 0 0.955621 -29.7538 16.1294)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-302" points="738.836 420.255 820.911 417.396 811.749 525.13 735.839 525.13" transform="matrix(1.19802 0 0 1.048 -140.431 -19.3725)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-300" points="1012.82 514.463 1136.67 481.503 1194.6 456.532 1246.54 402.596 1282.5 325.688 1299.47 223.809 1292.48 170.872 1273.51 161.883 1251.53 157.888 1056.76 151.895"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-321" points="455.48 340.67 502.424 340.67 502.424 384.618 458.476 382.62"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-320" points="457.185 295.421 504.129 295.421 504.129 339.369 460.182 337.371" transform="matrix(0.960028 0 0 1.06449 17.1682 -22.2951)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-303" points="742.935 420.499 738.94 530.368 644.053 531.367 644.053 421.498"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-304" points="641.057 420.499 640.059 526.373 565.148 530.368 566.147 420.499"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-306" points="512.211 425.493 512.211 533.365 417.324 536.362 410.332 421.498"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-307" points="408.335 425.493 410.332 535.363 366.385 533.365 355.398 423.496"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-315" points="154.637 194.768 165.624 271.677 287.479 264.685 276.492 186.778"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-316" points="387.36 179.786 398.347 258.692 292.473 264.685 278.49 185.779"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-323" points="617.799 287.501 693.71 289.498 696.706 383.572 620.796 381.389" transform="matrix(1.06061 0 0 0.955621 -29.7538 16.1294)"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-318" points="376.373 287.658 450.285 289.655 453.282 336.599 381.367 338.597"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-319" points="453.282 341.593 455.279 383.543 384.364 383.543 384.364 340.595"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-317" points="386.361 177.788 522.2 171.795 532.188 253.698 398.347 259.691"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-325" points="528.193 171.795 536.183 284.661 718.965 285.66 725.957 163.805"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-326" points="862.794 158.811 847.812 349.584 709.976 349.584 710.975 287.658 722.961 287.658 724.958 160.809"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-302A" points="842.818 483.424 838.823 527.372 887.764 524.376 893.757 482.426"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-302B" points="844.816 440.476 841.819 479.429 893.757 477.432 893.757 441.474"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-309" points="226.552 414.507 295.47 421.498 308.454 528.371 239.536 527.372"></polygon>
               <polygon style="stroke:black;fill:khaki;stroke-width:1px;" id="room-327" points="1052.57 155.815 863.793 156.813 851.807 333.603 888.763 332.604 894.756 283.662 1039.58 278.668"></polygon>
               <defs id="pathsegapi"></defs>
            </svg>
         </div>
         <div class="vbottom">
            <div class="alert alert-info">
               <div id="dateMaj" class="date">Le dernier MAJ: </div>
            </div>
         </div>
      </div>
      <!--Contenu évènement-->
      <div class="col-lg-4">
         <div style="text-align:center;padding:1em 0;">
            <iframe src="https://www.zeitverschiebung.net/clock-widget-iframe-v2?language=fr&size=large&timezone=Europe%2FParis"
               width="100%" height="140" frameborder="0" seamless></iframe>
         </div>
         <center>
            <hr class="hr-primary">
            <hr class="hr-danger" />
            <hr class="hr-success" />
            <hr class="hr-warning" />
            <h1>
               <p style="color:#6D214F  !important;">Liste des évènements</p>
            </h1>
         </center>
         <hr class="hr-primary">
         <hr class="hr-danger" />
         <hr class="hr-success" />
         <hr class="hr-warning" />
      </div>
      <script src="/socket.io/socket.io.js"></script>
      <script src="js/app.js"></script>
      <script>
         document.querySelectorAll('polygon[id^=room]').forEach(p => {
         var text = document.createElementNS("http://www.w3.org/2000/svg", 'text')
         var center = [...p.points].reduce((acc, cur) => ({x: acc.x+(cur.x/p.points.length), y: acc.y+(cur.y/p.points.length)}), {x:0,y:0})
         text.setAttributeNS(null, 'id', 'room-title-'+p.id)
         text.setAttributeNS(null, 'font-size', 15)
         text.setAttributeNS(null, 'x', center.x- 10)
         text.setAttributeNS(null, 'y', center.y)
         text.appendChild(document.createTextNode(p.id.substring(5)))
         p.parentNode.appendChild(text)
         })
             
      </script>
   </body>
</html>